"use strict";
Component({
    properties: {
        show: {
            type: Boolean,
            value: false,
            observer: function (val) {
                if (val) {
                    this.tryInit();
                    this.tryShow();
                }
                else if (this.data.bShow) {
                    this.tryHide();
                }
            },
        },
        params: {
            type: Object,
            value: {},
        },
    },
    data: {
        bInit: false,
        bShow: false,
    },
    pageLifetimes: {
        show: function () {
            this.data.show && this.tryShow();
        },
        hide: function () {
            this.data.show && this.tryHide();
        },
    },
    detached: function () {
        this.tryHide();
    },
    methods: {
        tryInit: function () {
            if (!this.data.bInit) {
                this.setData({
                    bInit: true,
                });
                var comp = this.getComponent();
                comp.onLoad && comp.onLoad(this.data.params || {});
            }
        },
        tryShow: function () {
            if (!this.data.bShow) {
                var comp = this.getComponent();
                comp.onShow && comp.onShow();
                this.data.bShow = true;
            }
        },
        tryHide: function () {
            if (this.data.bShow) {
                var comp = this.getComponent();
                comp.onHide && comp.onHide();
                this.data.bShow = false;
            }
        },
        getComponent: function () {
            return this.selectComponent('#comp');
        },
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFiLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidGFiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxTQUFTLENBQUM7SUFDTixVQUFVLEVBQUU7UUFDUixJQUFJLEVBQUU7WUFDRixJQUFJLEVBQUUsT0FBTztZQUNiLEtBQUssRUFBRSxLQUFLO1lBQ1osUUFBUSxZQUFDLEdBQUc7Z0JBQ1IsSUFBSSxHQUFHLEVBQUU7b0JBQ0wsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO29CQUNmLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztpQkFDbEI7cUJBQU0sSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDeEIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO2lCQUNsQjtZQUNMLENBQUM7U0FDSjtRQUNELE1BQU0sRUFBRTtZQUNKLElBQUksRUFBRSxNQUFNO1lBQ1osS0FBSyxFQUFFLEVBQUU7U0FDWjtLQUNKO0lBQ0QsSUFBSSxFQUFFO1FBQ0YsS0FBSyxFQUFFLEtBQUs7UUFDWixLQUFLLEVBQUUsS0FBSztLQUNmO0lBQ0QsYUFBYSxFQUFFO1FBQ1gsSUFBSTtZQUNBLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNyQyxDQUFDO1FBQ0QsSUFBSTtZQUNBLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNyQyxDQUFDO0tBQ0o7SUFDRCxRQUFRO1FBQ0osSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ25CLENBQUM7SUFDRCxPQUFPLEVBQUU7UUFDTCxPQUFPO1lBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDO29CQUNULEtBQUssRUFBRSxJQUFJO2lCQUNkLENBQUMsQ0FBQTtnQkFDRixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxFQUFFLENBQUMsQ0FBQzthQUN0RDtRQUNMLENBQUM7UUFDRCxPQUFPO1lBQ0gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNsQixJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ2pDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO2dCQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7YUFDMUI7UUFDTCxDQUFDO1FBQ0QsT0FBTztZQUNILElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUU7Z0JBQ2pCLElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztnQkFDakMsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQzthQUMzQjtRQUNMLENBQUM7UUFDRCxZQUFZLEVBQVo7WUFDSSxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDekMsQ0FBQztLQUNKO0NBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiQ29tcG9uZW50KHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIHNob3c6IHtcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICBvYnNlcnZlcih2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJ5SW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeVNob3coKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YS5iU2hvdykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgICAgIHZhbHVlOiB7fSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGRhdGE6IHtcbiAgICAgICAgYkluaXQ6IGZhbHNlLFxuICAgICAgICBiU2hvdzogZmFsc2UsXG4gICAgfSxcbiAgICBwYWdlTGlmZXRpbWVzOiB7XG4gICAgICAgIHNob3coKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2hvdyAmJiB0aGlzLnRyeVNob3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlkZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zaG93ICYmIHRoaXMudHJ5SGlkZSgpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgZGV0YWNoZWQoKSB7XG4gICAgICAgIHRoaXMudHJ5SGlkZSgpO1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICB0cnlJbml0KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRhdGEuYkluaXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEoe1xuICAgICAgICAgICAgICAgICAgICBiSW5pdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLmdldENvbXBvbmVudCgpO1xuICAgICAgICAgICAgICAgIGNvbXAub25Mb2FkICYmIGNvbXAub25Mb2FkKHRoaXMuZGF0YS5wYXJhbXMgfHwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0cnlTaG93KCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRhdGEuYlNob3cpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wID0gdGhpcy5nZXRDb21wb25lbnQoKTtcbiAgICAgICAgICAgICAgICBjb21wLm9uU2hvdyAmJiBjb21wLm9uU2hvdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5iU2hvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRyeUhpZGUoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLmJTaG93KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcCA9IHRoaXMuZ2V0Q29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgY29tcC5vbkhpZGUgJiYgY29tcC5vbkhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYlNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q29tcG9uZW50KCk6IFdlY2hhdE1pbmlwcm9ncmFtLkNvbXBvbmVudC5Ucml2aWFsSW5zdGFuY2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0Q29tcG9uZW50KCcjY29tcCcpO1xuICAgICAgICB9LFxuICAgIH0sXG59KTtcbiJdfQ==